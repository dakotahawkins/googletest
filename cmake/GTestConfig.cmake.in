@PACKAGE_INIT@

set(googletest_BUILD_SHARED_LIBS @BUILD_SHARED_LIBS@)

set(googletest_NAMESPACE_TARGETS)
set(googletest_ALL_INCLUDE_DIRS)

string(TOUPPER @GOOGLETEST_PACKAGE_NAME@ GOOGLETEST_PACKAGE_NAME_UPPER)
string(TOLOWER @GOOGLETEST_PACKAGE_NAME@ GOOGLETEST_PACKAGE_NAME_LOWER)

foreach(target @googletest_install_targets@)
  include(${CMAKE_CURRENT_LIST_DIR}/${target}ConfigInternal.cmake)

  "GTest" -> "gtest", "GTest_Main" -> "gtest_main", etc.
  string(TOLOWER ${target} target_LOWER)

  # "GTest_Main" -> "Main"
  string(REPLACE "@GOOGLETEST_PACKAGE_NAME@_" "" target "${target}")

  # "GMock_Main" -> "GMock::Main"
  string(REPLACE "_" "::" target "${target}")

  add_library(@GOOGLETEST_PACKAGE_NAME@::${target} INTERFACE IMPORTED)
  set_target_properties(@GOOGLETEST_PACKAGE_NAME@::${target}
    PROPERTIES
      INTERFACE_LINK_LIBRARIES @GOOGLETEST_PACKAGE_NAME@_${target}
      IMPORTED_GLOBAL ON)
  if(googletest_BUILD_SHARED_LIBS)
    set_target_properties(@GOOGLETEST_PACKAGE_NAME@::${target}
      PROPERTIES
        INTERFACE_COMPILE_DEFINITIONS "GTEST_LINKED_AS_SHARED_LIBRARY=1")
  endif()
  add_library(${target_LOWER} ALIAS @GOOGLETEST_PACKAGE_NAME@::${target})

  get_target_property(${target_LOWER}_INCLUDE_DIRS @GOOGLETEST_PACKAGE_NAME@_${target}
    INTERFACE_INCLUDE_DIRECTORIES)

  list(APPEND googletest_ALL_INCLUDE_DIRS ${${target}_INCLUDE_DIRS})
  list(APPEND googletest_NAMESPACE_TARGETS @GOOGLETEST_PACKAGE_NAME@::${target})
endforeach()

list(REMOVE_DUPLICATES googletest_ALL_INCLUDE_DIRS)
set(${GOOGLETEST_PACKAGE_NAME_UPPER}_INCLUDE_DIRS ${googletest_ALL_INCLUDE_DIRS})

list(REMOVE_DUPLICATES googletest_NAMESPACE_TARGETS)
set(${GOOGLETEST_PACKAGE_NAME_UPPER}_LIBRARIES ${googletest_NAMESPACE_TARGETS})

set(${GOOGLETEST_PACKAGE_NAME_UPPER}_VERSION "@GOOGLETEST_VERSION@")
